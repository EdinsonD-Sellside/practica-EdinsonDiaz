<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Vista de formulario para el chatbot -->
    <record id="view_chatbot_form" model="ir.ui.view">
        <field name="name">chatbot.openai.form</field>
        <field name="model">chatbot.openai</field>
        <field name="arch" type="xml">
            <form string="Chatbot OpenAI">
                <sheet>
                    <group>
                        <field name="user_message" placeholder="Escribe tu mensaje aquí..."/>
                        <button name="get_bot_response" string="Enviar consulta" type="object" class="oe_highlight"/>
                        <field name="bot_response" readonly="1" placeholder="Aquí aparecerá la respuesta..."/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Vista de lista para ver múltiples conversaciones -->
    <record id="view_chatbot_tree" model="ir.ui.view">
        <field name="name">chatbot.openai.tree</field>
        <field name="model">chatbot.openai</field>
        <field name="arch" type="xml">
            <tree string="Chatbot OpenAI">
                <field name="user_message"/>
                <field name="bot_response"/>
            </tree>
        </field>
    </record>

    <!-- Acción para acceder al chatbot -->
    <record id="action_chatbot_openai" model="ir.actions.act_window">
        <field name="name">Chatbot OpenAI</field>
        <field name="res_model">chatbot.openai</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Menú para acceder al chatbot -->
    <menuitem id="menu_chatbot_root" name="Chatbot" sequence="10"/>
    <menuitem id="menu_chatbot" name="Chatbot OpenAI" parent="menu_chatbot_root" action="action_chatbot_openai"/>
</odoo>
